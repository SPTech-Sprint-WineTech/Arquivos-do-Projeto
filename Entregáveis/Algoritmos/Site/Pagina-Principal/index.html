<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>WineTech</title>

		<!-- importação do CSS -->
		<link rel="stylesheet" href="style.css" />

		<!-- importação das fontes -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Bona+Nova:ital,wght@0,400;0,700;1,400&display=swap"
			rel="stylesheet" />
	</head>
	<body>
		<div id="modal">
			<div id="fechar_modal" onclick="fechaModal()">X</div>
			<div id="bottle">
				<img
					src="./img/Simulador-Financeiro/Garrafa-esvaziando/0.png"
					id="garrafa-tras"
					onclick="chamaModal()" />
				<img
					src="./img/Simulador-Financeiro/Garrafa-esvaziando/0.png"
					id="garrafa-frente"
					onclick="chamaModal()" />
			</div>
		</div>
		<div class="opacity">
			<div id="header">
				<div class="logo" href="#header">
					<img src="./img/Logo/logo-wine-tech-versao-white.png" />
				</div>
				<div class="nav_bar">
					<a class="nav_home" href="#intro">HOME</a>
					<a class="nav_sobre_nos" href="#sobre_nos">SOBRE NÓS</a>
					<a class="nav_controle_vinhos" href="#controle_vinhos"
						>CONTROLE DE VINHOS</a
					>
					<a class="nav_fale_conosco" href="#">FALE CONOSCO</a>
				</div>
				<div class="midias">
					<div class="login">LOGIN</div>
					<div class="redes_sociais">
						<a href="#">
							<img src="./img/midias-sociais/facebook.png" />
						</a>
						<a href="#">
							<img src="./img/midias-sociais/instagram.png" />
						</a>
						<a href="#">
							<img src="./img/midias-sociais/linkedin.png" />
						</a>
					</div>
				</div>
			</div>
			<div id="intro">
				<h2>CONTROLE DE TEMPERATURA E UMIDADE</h2>
				<p>
					"Nós da WineTech visamos sofisticar, monitorar e aprimorar os armazéns
					de vinho dos nossos clientes trazendo a tecnologia para o tradicional,
					fazendo com que exista um bom rendimento e uma alta qualidade dos
					produtos."
				</p>
				<button class="saiba_mais">SAIBA MAIS</button>
			</div>
			<div id="sobre_nos">
				<h2>A WineTech</h2>
				<h4>Monitoria de Vinhos</h4>
				<p>
					Lorem Ipsum is simply dummy text of the printing and typesetting
					industry. Lorem Ipsum has been the industry's standard dummy text ever
					since the 1500s, when an unknown printer took a galley of type and
					scrambled it to make a type specimen book. It has survived not only
					five centuries, but also the leap into electronic typesetting,
					remaining essentially unchanged.
					<br /><br /><br />
					It was popularised in the 1960s with the release of Letraset sheets
					containing Lorem Ipsum passages, and more recently with desktop
					publishing software like Aldus PageMaker including versions of Lorem
					Ipsum.
				</p>
				<img src="./img/about-us.png" alt="" />
			</div>
			<div id="controle_vinhos">
				<h1>Controle de Vinhos</h1>
				<div class="secao_controle">
					<div class="wine-item">
						<img src="./img/garrafa-tipos.png" alt="Garrafa 1" />
						<p class="wine-name">SILVER OAK</p>
						<p class="wine-type">Vinho Tinto</p>
					</div>

					<div class="wine-item">
						<img src="./img/garrafa-tipos.png" alt="Garrafa2" />
						<p class="wine-name">SILVER OAK</p>
						<p class="wine-type">Vinho Tinto</p>
					</div>
					<div class="wine-item">
						<img src="./img/garrafa-tipos.png" alt="Garrafa 3" />
						<p class="wine-name">SILVER OAK</p>
						<p class="wine-type">Vinho Tinto</p>
					</div>
					<div class="wine-item">
						<img src="./img/garrafa-tipos.png" alt="Garrafa 4" />
						<p class="wine-name">SILVER OAK</p>
						<p class="wine-type">Vinho Tinto</p>
					</div>
				</div>

				<div class="secao_controle">
					<div class="wine-item">
						<img src="./img/garrafa-tipos.png" alt="Garrafa 5" />
						<p class="wine-name">SILVER OAK</p>
						<p class="wine-type">Vinho Tinto</p>
					</div>

					<div class="wine-item">
						<img src="./img/garrafa-tipos.png" alt="Garrafa 6" />
						<p class="wine-name">SILVER OAK</p>
						<p class="wine-type">Vinho Tinto</p>
					</div>
					<div class="wine-item">
						<img src="./img/garrafa-tipos.png" alt="Garrafa 7" />
						<p class="wine-name">SILVER OAK</p>
						<p class="wine-type">Vinho Tinto</p>
					</div>
					<div class="wine-item">
						<img src="./img/garrafa-tipos.png" alt="Garrafa 8" />
						<p class="wine-name">SILVER OAK</p>
						<p class="wine-type">Vinho Tinto</p>
					</div>
				</div>
			</div>
			<div id="comentarios">
				<h1>Comentários de Clientes</h1>
				<div class="secao_comentarios">
					<div class="imagens_comentario">
						<img src="./img/comentarios/foto-comentario.png" />
						<img src="./img/comentarios/foto-comentario.png" />
						<img src="./img/comentarios/foto-comentario.png" />
					</div>
					<div class="comentario">
						<div class="dados_comentario">
							<h4>Isabela</h4>
							<p>
								Lorem Ipsum has been the industry's standard dummy text ever
								since the 1500s, when an unknown printer took a galley of type
								and scrambled it to make a type specimen book.
							</p>
						</div>
						<div class="dados_comentario">
							<h4>Isabela</h4>
							<p>
								Lorem Ipsum has been the industry's standard dummy text ever
								since the 1500s, when an unknown printer took a galley of type
								and scrambled it to make a type specimen book.
							</p>
						</div>
						<div class="dados_comentario">
							<h4>Isabela</h4>
							<p>
								Lorem Ipsum has been the industry's standard dummy text ever
								since the 1500s, when an unknown printer took a galley of type
								and scrambled it to make a type specimen book.
							</p>
						</div>
					</div>
				</div>
			</div>
			<div id="simulador">
				<h2>Simulador Financeiro</h2>
				<div class="secao_simulador">
					<img src="./img/Simulador-Financeiro/simulador.jpg" />
					<div class="sobre_simulator">
						<p>
							O que é nosso <span>Simulador Financeiro?</span><br />
							Faça um teste agora! <br />
							<br />
							<br />
							Nosso simulador tem como objetivo analisar o contexto do seu
							negócio e calcular os parâmetros recebidos gerando um relatório de
							controle.
						</p>
						<button class="simule" onclick="chamaModal()">Conheça Agora</button>
					</div>
				</div>
			</div>
			<div id="secao_video">
				<div class="video"></div>
			</div>
		</div>
	</body>
</html>

<script>
	// Variavel que define se modal está aberto ou fechado
	var showBottle = 0;
	var escolheGarrafa = 0;

	//Acompanha o scroll da tela e chama funcao
	window.onscroll = function () {
		esvaziar_garrafa();
	};

	function esvaziar_garrafa() {
		//Seleciona elementos para manipulação
		var imagemGarrafa = document.getElementById("garrafa-frente");
		var topoPagina = document.documentElement.scrollTop;
		var alturaPagina = document.documentElement.scrollHeight;
		var alturaJanela = window.innerHeight;

		//calculos do scroll
		var alturaScroll = alturaPagina - alturaJanela;
		var porcentagemAltura = (topoPagina / alturaScroll) * 100;
		escolheGarrafa = parseInt(porcentagemAltura * 0.94);

		// Se modal tiver aberto finaliza a função
		if (showBottle == 1) return;

		//utiliza a conta do scroll para definir a imagem usada
		imagemGarrafa.src = `./img/Simulador-Financeiro/Garrafa-esvaziando/${escolheGarrafa}.png`;
	}

	function chamaModal() {
		// Se modal tiver aberto finaliza a função
		if (showBottle == 1) return;

		//Seleciona elementos para manipulação
		var divModal = document.getElementById("modal");
		var divGarrafa = document.getElementById("bottle");
		var imagemGarrafa = document.getElementById("garrafa-frente");
		var sombraGarrafa = document.getElementById("garrafa-tras");
		var closeModal = document.getElementById("fechar_modal");

		//Troca imagem da garrafa, esconde a imagem "sombra" e define valores de estilo iniciais para trabalhar a animação
		imagemGarrafa.src = "./img/Simulador-Financeiro/modal.png";
		sombraGarrafa.style = "display: none;";
		imagemGarrafa.style = "height: auto; width: 4.5%;padding-right: 5.9%";

		//Faz a movimentação e crescimento da garrafa do modal
		setTimeout(() => {
			divGarrafa.style = "animation: 2s linear 0s 1 normal both movebottle1;";
			imagemGarrafa.style =
				"animation: 2s linear 0s 1 normal both growbottle1;";
		}, 10);

		// Define valores de estilo do modal após rodar a animação
		setTimeout(() => {
			divGarrafa.style =
				"justify-content: center;align-items: center;padding-right: 0%;top: 38vh";
			imagemGarrafa.style = "width: 60%;height: auto;";
			closeModal.style = "display: flex";
		}, 2000);

		// Altera a variavel que controla o mostrar do modal
		showBottle = 1;

		//mostra botao de fechar modal
	}

	function fechaModal() {
		// Se modal tiver fechado finaliza a função
		if (showBottle == 0) return;

		//Seleciona elementos para manipulação
		var divModal = document.getElementById("modal");
		var divGarrafa = document.getElementById("bottle");
		var imagemGarrafa = document.getElementById("garrafa-frente");
		var sombraGarrafa = document.getElementById("garrafa-tras");
		var closeModal = document.getElementById("fechar_modal");

		//esconde botao de fechar modal
		closeModal.style = "display: none";

		//Faz a movimentação e encolhimento da garrafa do modal
		setTimeout(() => {
			divGarrafa.style = "animation: 2s linear 0s 1 normal both movebottle2;";
			imagemGarrafa.style =
				"animation: 2s linear 0s 1 normal both growbottle2;";
		}, 10);

		//Troca imagem da garrafa, mostra a imagem "sombra" e define valores de estilo iniciais após rodar a animação
		setTimeout(() => {
			imagemGarrafa.style = "height: 180px; width: auto; padding-right: 0%";
			imagemGarrafa.src = `./img/Simulador-Financeiro/Garrafa-esvaziando/${escolheGarrafa}.png`;

			divGarrafa.style =
				"justify-content: end;align-items: normal;padding-right: 0%;top: 65vh;";
			sombraGarrafa.style = "display: show;";
		}, 1950);

		// Altera a variavel que controla o mostrar do modal
		showBottle = 0;
	}
</script>
