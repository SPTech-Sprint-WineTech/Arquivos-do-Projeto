<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="../css/dashboard.css" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap"
			rel="stylesheet" />
		<script src="https://unpkg.com/@phosphor-icons/web"></script>
		<title>Dashboarding</title>
	</head>
	<body>
		<header>
			<div class="nome_adega">
				<h1>XV de Novembro</h1>
			</div>

			<div class="container_menu" onclick="ver_menu()">
				<h3>MENU</h3>
				<i class="ph ph-list"></i>
			</div>
		</header>

		<main>
			<div class="container_geral">
				<div class="container_kpis">
					<div class="kpis">
						<h3>Temperatura mínima:</h3>
						<h2><span id="tempMax">12</span>C°</h2>
						<h4>(24H)</h4>
					</div>

					<div class="kpis">
						<h3>Temperatura máxima:</h3>
						<h2><span id="tempMax">18</span>C°</h2>
						<h4>(24H)</h4>
					</div>

					<div class="kpis">
						<h3>Umidade miníma:</h3>
						<h2>70%</h2>
						<h4>(24H)</h4>
					</div>

					<div class="kpis">
						<h3>Umidade máxima:</h3>
						<h2>80%</h2>
						<h4>(24H)</h4>
					</div>
				</div>

				<div class="container_ocorrencias">
					<div class="container_painel">
						<div class="painel_ocorrencias">
							<div class="titulo_ocorrencias">
								<h2>Painel de ocorrências</h2>
							</div>

							<div class="info_ocorrencias">
								<div class="ocorrencias">
									<div class="texto_ocorrencias">
										<h4>Data/Hora:</h4>
									</div>
									<div class="linhas_ocorrencias" id="linhas_data_hora">
										<span>Nha</span>
									</div>
								</div>

								<div class="ocorrencias">
									<div class="texto_ocorrencias">
										<h4>N° da ocorrência:</h4>
									</div>
									<div class="linhas_ocorrencias" id="linhas_id">
										<span>Nha</span>
									</div>
								</div>

								<div class="ocorrencias">
									<div class="texto_ocorrencias">
										<h4>Temperatura:</h4>
									</div>
									<div class="linhas_ocorrencias" id="linhas_temperatura">
										<span>Nha</span>
									</div>
								</div>

								<div class="ocorrencias">
									<div class="texto_ocorrencias">
										<h4>Umidade</h4>
									</div>
									<div class="linhas_ocorrencias" id="linhas_umidade">
										<span>Nha</span>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="container_grafico_ocorrencia">
						<h2>Lorem ipsum dolor</h2>
						<div class="div_grafico_ocorrencia">
							<canvas id="grafico_ocorrencia" width="300" height="80"></canvas>
						</div>
					</div>
				</div>

				<div class="container_3">
					<div class="container_grafico_velo">
						<div class="texto_grafico_velo">
							<h3>Temperatura atual:</h3>
						</div>
						<div>
							<canvas id="velo_temperatura" width="300" height="100"></canvas>
						</div>
					</div>

					<div class="container_grafico_velo">
						<div class="texto_grafico_velo">
							<h3>Umidade atual:</h3>
						</div>
						<div>
							<canvas id="velo_umidade" width="300" height="100"></canvas>
						</div>
					</div>

					<div class="container_chamados">
						<h3>Visão geral:</h3>

						<div class="container_graficos_chamados">
							<div class="graficos_chamados">
								<canvas
									id="grafico_coluna_chamado"
									width="150"
									height="80"></canvas>
							</div>

							<div class="graficos_chamados">
								<canvas id="myPieChart" width="150" height="80"></canvas>
							</div>
						</div>
					</div>
				</div>

				<div class="container_menu_bar">
					<div class="container_itens_menu">
						<div class="fechar_menu" onclick="fechar_menu()">
							<p>Fechar <i class="ph-light ph-x"></i></p>
						</div>

						<div class="img_perfil">
							<img
								src="../assets/ImagensDashboard/logo-wine-tech-versao-white.png"
								style="width: 125px" />
							<h3>XV de Novembro</h3>
						</div>

						<div class="select_adegas">
							<select id="select_adegas">
								<option value="1">Adega Maria</option>
								<option value="2">Adega Rose</option>
							</select>
						</div>

						<div class="ajuda">
							<h3>Precisa de ajuda?</h3>
							<a href="https://app.pipefy.com/public/form/IHtY-Crw"
								>Clique Aqui!</a
							>
						</div>

						<div class="div_sair">
							<h4 onclick="sair()">SAIR</h4>
						</div>
					</div>
				</div>
			</div>
		</main>
	</body>
</html>

<script src="../js/dashboard.js"></script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
	var ctx = document.getElementById("grafico_ocorrencia");

	new Chart(ctx, {
		type: "bar",
		data: {
			labels: [
				"Domingo",
				"Segunda",
				"Terça",
				"Quarta",
				"Quinta",
				"Sexta",
				"Sábado",
			],
			datasets: [
				{
					label: "temperatura",
					data: [15, 19, 17, 15, 17, 13, 18],
					borderWidth: 1,
					backgroundColor: "rgb(150, 0, 0)",
				},
				{
					label: "umidade",
					data: [70, 62, 63, 65, 62, 63, 68],
					borderWidth: 1,
					backgroundColor: "rgb(0, 0, 150)",
				},
			],
		},
		options: {
			scales: {
				y: {
					max: 80,
					beginAtZero: true,
					ticks: {
						color: "#FFF",
					},
				},
				x: {
					ticks: {
						color: "#FFF",
					},
				},
			},
			plugins: {
				legend: {
					position: "none",
				},
			},
		},
	});

	var coluna_chamado = document.getElementById("grafico_coluna_chamado");

	new Chart(coluna_chamado, {
		type: "bar",
		data: {
			labels: ["Temperatura", "Umidade"],
			datasets: [
				{
					label: "# of Votes",
					data: [12, 19],
					backgroundColor: "#FAF",
					borderWidth: 1,
				},
			],
		},
		options: {
			scales: {
				y: {
					beginAtZero: true,
					ticks: {
						color: "#FFF",
					},
				},
				x: {
					ticks: {
						color: "#FFF",
					},
				},
			},
			plugins: {
				legend: {
					position: "none",
				},
			},
		},
	});

	var pizza_chamado = document.getElementById("myPieChart").getContext("2d");

	// Defina os dados do gráfico de pizza
	var data = {
		labels: ["Categoria 1", "Categoria 2", "Categoria 3"],
		datasets: [
			{
				data: [30, 40, 30], // Valores percentuais para cada categoria
				backgroundColor: ["#FF6384", "#36A2EB", "#FFCE56"],
			},
		],
	};

	// Defina as opções do gráfico de pizza
	var options = {
		responsive: true,
		maintainAspectRatio: false,
		scales: {
			y: {
				beginAtZero: true,
				ticks: {
					color: "#FFF",
				},
			},
			x: {
				ticks: {
					color: "#FFF",
				},
			},
		},
		plugins: {
			legend: {
				position: "none",
			},
		},
	};

	// Crie o gráfico de pizza
	var myPieChart = new Chart(pizza_chamado, {
		type: "pie",
		data: data,
		options: options,
	});

	var velo_temp = document.getElementById("velo_temperatura").getContext("2d");
</script>
